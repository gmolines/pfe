---
layout: post
title: "Optimisation des performances du logiciel CEDRES++ pour le calcul de configuration d’équilibres dans les Tokamaks"
date: 2016-09-13 17:36:40
categories: [dispo, al]
pid: Y1516-S024
type: Engineering
contact: Sid Touati
---
       
Dans le cadre du projet ITER à Cadarache, la fusion nucléaire par confinement magnétique consiste à confiner un plasma à l’aide d’un champ magnétique dans une machine appelée Tokamak dans le but de produire de l’énergie. La configuration magnétique du plasma est déterminée par le logiciel CEDRES++ développé à l'UNS. Ce code C++ est appelé à de nombreuses reprises lors d’une simulation et est actuellement le module le plus coûteux en temps de calcul dans la chaîne de simulation. L’objectif de ce PFE est d’en optimiser les performances afin de réduire au maximum le temps de simulation d’une décharge qui est actuellement de l’ordre de plusieurs jours. 

Pour le sujet détaillé, consultez le lien ci dessous
http://www-sop.inria.fr/members/Sid.Touati/Positions.html#sec11

Description du stage
--------------------------
La fusion nucléaire par confinement magnétique consiste à confiner un plasma à l’aide d’un champ magnétique dans une machine appelée Tokamak dans le but de produire de l’énergie. Plusieurs machines expérimentales sont en cours de construction ou de modification dans l’objectif de démontrer la faisabilité de la fusion (projet ITER). La préparation des scénarios d’expérience et le design des machines ne peut se faire sans l’usage de simulation numérique. Un des outils actuellement développé consiste à coupler plusieurs codes entre eux dans l’objectif de développer un simulateur de décharges. Dans ce simulateur, la configuration magnétique du plasma est déterminée par le logiciel CEDRES++ développé par l’université de Nice et le CEA de Cadarache. Ce code C++ est appelé à de nombreuses reprises lors d’une simulation et est actuellement le module le plus coûteux en temps de calcul dans la chaîne de simulation. L’objectif de ce PFE est d’en optimiser les performances afin de réduire au maximum le temps de simulation d’une décharge qui est actuellement de l’ordre de plusieurs jours.

Stage à caractère transdisciplinaire entre l’informatique et les mathématiques appliquées
----------------------------------------
Les équipes à l’INRIA-Sophia qui travaillent dans les domaines de simulation numérique ont de bonnes compétences en calculs intensifs : programmation avec divers langages (C, C++, fortran, matlab, etc.), avec un usage avancé du parallélisme (OpenMP, MPI, GP-GPU, etc) sur des grilles de calculs (machines à l’INRIA, machine cicada à l’UNS, PRACE, Genci, etc.). Les calculs intensifs sont souvent utilisés en physique, en mathématiques appliquées, en biologie, en chimie, etc.

Cependant, les calculs parallèles et intensifs n’aboutissent pas nécessairement à des hautes performances temps réel, qui est un domaine de pointe en informatique. En effet, en informatique, les calculs hautes performances nécessitent de solides compétences et connaissances dans les couches basses d’un système de calculs : méthodes avancées de compilation, optimisations de codes bas niveau, architecture et micro-architecture des processeurs, notions avancées en systèmes d’exploitation (gestion de la mémoire virtuelle, ordonnancement des threads et processus sur multicores, gestion des entrées/sortie, etc.), comprendre comment interagit un code binaire avec la microarchitecture du processeur (pipeline, parallélisme d’instructions, prédiction de branchement, exécution dans le désordre, renommage des registres, exécution spéculative), etc. Ces connaissances et compétences sont nécessaires pour optimiser une application dans le but d’arriver à des performances temps réel.

Le caractère transverse de ce sujet de master se situe dans la complémentarité des compétences des participants à ce projet :

    Mathématiques appliquées et simulation numérique: compréhension mathématique du phénomène physique de plasma, modèle numérique de calculs, développement logiciel de l’application C++ pour un usage de calculs intensifs.
    Informatique : apporter des solutions pour l’optimisation des performances (algorithmique, compilation avancée, optimisation et réécriture de parties du code source, analyse des performances pour comprendre l’interaction matérielle/logicielle et déduire les goulots d’étranglement). 

Plan de travail
----------------------
Le programme du stage est le suivant :

    Profilage et analyse des performances de l’application CEDRES++ pour détecter les goulots d’étranglement.
    Etudier et appliquer des méthodes d’optimisation de code avec g++. Le compilateur choisi est de préférence un logiciel libre.
    Pour les parties du code source non aisément optimisables par compilation, réécrire le logiciel pour faciliter la tache au compilateur (favoriser l’exploitation du parallélisme d’instructions).
    Pour les boucles de calculs parallèles, introduire des pragmas OpenMP. 

#### Compétences Requises
Architecture des processeurs, compilation, programmation C++, systèmes d’exploitation. 


#### Besoins Clients
- Le temps de simulation doit être le plus rapide possible

#### Résultats Attendus
- La vitesse de calculs du code Cedress++ oit être réduite.
     

#### Informations Administratives
  * Contact : Sid Touati <Sid.Touati@inria.fr>
  * Identifiant sujet : `Y1516-S024`
  * Type : Engineering
  * Parcours Recommandés : AL
     